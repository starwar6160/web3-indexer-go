# ============================================================================
# ALL-IN-DOCKER CONFIGURATION
# ============================================================================
# This file is used by docker-compose.yml for containerized deployment
# All services communicate via Docker service names (zero configuration)

# ============================================================================
# DATABASE CONFIGURATION (Using Docker Service Name)
# ============================================================================
DATABASE_URL=postgres://postgres:W3b3_Idx_Secur3_2026_Sec@db:5432/web3_indexer?sslmode=disable

# ============================================================================
# RPC CONFIGURATION (Using Host Network)
# ============================================================================
# Anvil local RPC node (running in host mode, accessible via localhost)
RPC_URLS=http://localhost:8545

# ============================================================================
# CHAIN CONFIGURATION
# ============================================================================
# Anvil local chain ID
CHAIN_ID=31337

# ============================================================================
# SYNC CONFIGURATION
# ============================================================================
# Start from block 0 for local testing
START_BLOCK=0

# Batch size for block processing
BLOCK_BATCH_SIZE=1000

# Poll interval in milliseconds (Anvil ~2s per block)
POLL_INTERVAL=2000

# Confirmation depth
CONFIRMATION_DEPTH=1

# ============================================================================
# API CONFIGURATION
# ============================================================================
# API port (exposed to host via docker-compose.yml)
API_PORT=8080

# ============================================================================
# LOGGING CONFIGURATION
# ============================================================================
LOG_LEVEL=info
LOG_FORMAT=json

# ============================================================================
# PERFORMANCE TUNING
# ============================================================================
# Max concurrent RPC requests
MAX_CONCURRENCY=10

# RPC request timeout in seconds
RPC_TIMEOUT=10

# Database connection pool settings
DB_MAX_OPEN_CONNS=25
DB_MAX_IDLE_CONNS=10

# ============================================================================
# SMART SLEEP CONFIGURATION
# ============================================================================
DEMO_DURATION_MINUTES=5
IDLE_TIMEOUT_MINUTES=10
CHECK_INTERVAL_SECONDS=60
RPC_TIMEOUT_SECONDS=10
