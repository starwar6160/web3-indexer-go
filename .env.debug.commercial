# ============================================================================
# DEBUG CONFIGURATION - Commercial RPC Nodes (Production Ready)
# ============================================================================

# ============================================================================
# COMMERCIAL RPC NODES - 使用现有的 QuickNode 和 Infura
# ============================================================================

# QuickNode (主用) - 商业级稳定性
QUICKNODE_SEPOLIA_HTTPS=https://greatest-alpha-morning.ethereum-sepolia.quiknode.pro/acf2caf911f89ccdc17e965b59706700a8479bad/

# Infura (备用) - 免费额度 500k CU/天
INFURA_SEPOLIA_HTTPS=https://sepolia.infura.io/v3/1b2028d957bb4abda56acdc8f51afa8e

# 组合 URL 列表（优先使用 QuickNode，Infura 作为备份）
# 逗号分隔，SmartClient 会自动故障转移
RPC_URLS=${QUICKNODE_SEPOLIA_HTTPS},${INFURA_SEPOLIA_HTTPS}

# WebSocket URL（可选，调试环境建议使用 HTTPS 轮询）
WSS_URL=

# ============================================================================
# TOKEN FILTERING CONFIGURATION
# ============================================================================

# 代币过滤模式
TOKEN_FILTER_MODE=whitelist

# 监控的热门代币地址（留空 = 使用默认 4 个：USDC, DAI, WETH, UNI）
WATCHED_TOKEN_ADDRESSES=

# ============================================================================
# RATE LIMITING - Conservative Settings for Commercial Nodes
# ============================================================================

# 每秒请求数（商业节点推荐：5 RPS）
RPC_RATE_LIMIT=5

# 最大同步批次（每次最多同步 5 个块）
MAX_SYNC_BATCH=5

# 并发抓取数（单并发，避免触发 429）
FETCH_CONCURRENCY=1

# RPC 超时（秒）
RPC_TIMEOUT_SECONDS=15

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================

# 复用现有的 web3-testnet-db 数据库
DATABASE_URL=postgres://postgres:W3b3_Idx_Secur3_2026_Sec@web3-testnet-db:5432/web3_sepolia?sslmode=disable

# ============================================================================
# GENERAL SETTINGS
# ============================================================================

CHAIN_ID=11155111
START_BLOCK=latest
IS_TESTNET=true
DEMO_MODE=false
LOG_LEVEL=info
ENABLE_ENERGY_SAVING=false

# 检查点批次（每 50 个块更新一次检查点）
CHECKPOINT_BATCH=50

# ============================================================================
# DEMO SETTINGS
# ============================================================================

# 应用标题（显示在仪表盘顶部）
APP_TITLE="🔧 WEB3 INDEXER - DEBUG (Token Filtering + Commercial RPC)"
